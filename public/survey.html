<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Preferences Survey</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #f0f8ff, #e6e6fa);
            color: #333;
            padding: 20px;
            max-width: 600px;
            margin: auto;
        }
        h1 {
            text-align: center;
            color: #4B0082;
        }
        .question {
            margin: 20px 0;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #4B0082;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            cursor: pointer;
        }
        .submit-btn:hover {
            background-color: #6A0DAD;
        }
    </style>
</head>
<body>

    <h1>Music Preferences Survey</h1>
    <p>We'd love to learn more about your music tastes! This survey will help us recommend songs and albums tailored to you.</p>

    <form id="musicSurvey" onsubmit="fetchRecommendations(); return false;">
        <div class="question">
            <label for="genre">1. What is your favorite genre of music?</label><br>
            <input type="text" id="genre" name="genre" required>
        </div>

        <div class="question">
            <label for="artist">2. Who is your favorite artist or band?</label><br>
            <input type="text" id="artist" name="artist" required>
        </div>

        <div class="question">
            <label for="decade">3. Which decade of music do you enjoy most?</label><br>
            <select id="decade" name="decade" required>
                <option value="1950s">1950s</option>
                <option value="1960s">1960s</option>
                <option value="1970s">1970s</option>
                <option value="1980s">1980s</option>
                <option value="1990s">1990s</option>
                <option value="2000s">2000s</option>
                <option value="2010s">2010s</option>
                <option value="2020s">2020s</option>
            </select>
        </div>

        <button type="submit" class="submit-btn">Submit & Get Recommendations</button>
    </form>

    <div id="recommendations" style="display:none; margin-top:20px;">
        <h2>Music Recommendations</h2>
        <p>Based on your answers, here are some new songs and albums you might enjoy!</p>
        <ul id="recommendationList"></ul>
    </div>



    

    <script>
        async function fetchRecommendations() {
            const genre = document.getElementById('genre').value;
            const apiKey = 'YOUR_LAST_FM_API_KEY'; // Replace with your Last.fm API key
            const recommendationList = document.getElementById('recommendationList');
            recommendationList.innerHTML = ''; // Clear previous recommendations

            try {
                // Fetch top tracks for the specified genre
                const response = await fetch(`https://ws.audioscrobbler.com/2.0/?method=tag.gettoptracks&tag=${encodeURIComponent(genre)}&api_key=${apiKey}&format=json`);
                const data = await response.json();

                if (data.tracks && data.tracks.track.length > 0) {
                    data.tracks.track.slice(0, 5).forEach(track => {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = `<strong>Song:</strong> ${track.name} by ${track.artist.name}`;
                        recommendationList.appendChild(listItem);
                    });
                    document.getElementById('recommendations').style.display = 'block';
                } else {
                    recommendationList.innerHTML = '<li>No recommendations available for this genre.</li>';
                    document.getElementById('recommendations').style.display = 'block';
                }
            } catch (error) {
                console.error('Error fetching recommendations:', error);
                recommendationList.innerHTML = '<li>There was an error fetching recommendations. Please try again later.</li>';
                document.getElementById('recommendations').style.display = 'block';
            }
        }
    </script>
</body>
</html>
